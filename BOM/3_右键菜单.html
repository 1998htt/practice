<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>菜单</title>
        <style>
            *{
                margin:0;
                padding:0;
            }
            #menu{
                width:120px;
                border:1px solid #000;
                display:none;
                position:absolute;
            }
            li{
                list-style: none;
                text-align: center;
                height:30px;
                border-bottom:1px solid #cccccc;
                line-height:30px;
            }
            li:last-child{
                border-bottom:0px;
            }
           html,body{
               width: 100%;
               height: 100%;
           }

        </style>
    </head>
    <body>
       <ul id="menu">
           <li>打开</li>
           <li>下载</li>
           <li>复制</li>
           <li>删除</li>
           <li>设置</li>
       </ul>

       <script>
           var oMenu=document.getElementById('menu');
           var aLi=document.getElementsByTagName('li');
           var d=document.documentElement.offsetWidth;
           var m=document.documentElement.offsetHeight;
           document.oncontextmenu=function(e){
               oMenu.style.display='block';
               var b=oMenu.offsetWidth;
               var n=oMenu.offsetHeight;
               if(e.clientX>(d-b)&&e.clientY>(m-n)){
                   oMenu.style.left=(e.clientX-b)+'px';
                   oMenu.style.top=(e.clientY-n)+'px';
               }else if(e.clientX>(d-b)){
                   oMenu.style.left=(e.clientX-b)+'px';
                   oMenu.style.top=e.clientY+'px';
               }else if(e.clientY>(m-n)){
                   oMenu.style.left=e.clientX+'px';
                   oMenu.style.top=(e.clientY-n)+'px';
               }else{
                   oMenu.style.left=e.clientX+'px';
                   oMenu.style.top=e.clientY+'px';
               }
               return false;//e.preventDefault();//e.returnVaule=false;
           }
           document.onclick=function(){
               oMenu.style.display='none';
           }
           for(var i=0;i<aLi.length;i++){
               aLi[i].onmouseover=function(){
                   this.style.background='#ccc';
               }
               aLi[i].onmouseout=function() {
                   this.style.background = '';
               }
               aLi[i].onclick=function(){
                   alert(this.innerHTML);
               }

           }
       </script>
    </body>
</html>